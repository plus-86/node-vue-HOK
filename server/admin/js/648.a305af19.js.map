{"version":3,"file":"js/648.a305af19.js","mappings":"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","sources":["webpack://admin/./src/views/ItemEdit.vue","webpack://admin/src/views/ItemEdit.vue","webpack://admin/./src/views/ItemEdit.vue?c206","webpack://admin/./src/views/ItemEdit.vue?4d50","webpack://admin/./src/request/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"物品\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":_vm.afterUpload}},[(_vm.model.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\" 保存 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <h1>{{ id ? '编辑' : '新建' }}物品</h1>\r\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save\">\r\n      <el-form-item label=\"名称\">\r\n        <el-input v-model=\"model.name\"> </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图标\">\r\n        <!-- action是发起post请求上传图片信息的地址 -->\r\n        <!-- on-success是图片上传后的回调,第一个参是图片信息 -->\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"uploadUrl\"\r\n          :headers=\"getAuthHeaders()\"\r\n          :show-file-list=\"false\"\r\n          :on-success=\"afterUpload\"\r\n        >\r\n          <img v-if=\"model.icon\" :src=\"model.icon\" class=\"avatar\" />\r\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\"> 保存 </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addItem, getItemById, updateItemById } from '@/request/api.js'\r\nexport default {\r\n  // 获取上个页面放到url上传过来的参数\r\n  props: {\r\n    id: {}\r\n  },\r\n  data() {\r\n    return {\r\n      model: {}\r\n    }\r\n  },\r\n  methods: {\r\n    afterUpload(res) {\r\n      // 需要$set设置为响应式(目标对象，添加的属性名，添加的属性值)\r\n      this.$set(this.model, 'icon', res.url)\r\n    },\r\n    async save() {\r\n      let res\r\n      if (this.id) {\r\n        res = await updateItemById(this.model, this.id)\r\n        // 验证todo\r\n        this.$router.push('/items/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '更新成功'\r\n        })\r\n      } else {\r\n        res = await addItem(this.model)\r\n        // 验证todo\r\n        this.$router.push('/items/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功'\r\n        })\r\n      }\r\n    },\r\n    async fetch() {\r\n      let res = await getItemById(this.id)\r\n      this.model = res.data\r\n    }\r\n  },\r\n  created() {\r\n    // 如果有id则去获取物品\r\n    this.id && this.fetch()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemEdit.vue?vue&type=template&id=66188850&\"\nimport script from \"./ItemEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import instance from \"./request\";\r\n// 上传图片\r\nexport const uploadFile = (params) => instance.post('/upload', params)\r\n// 登录\r\nexport const Login = (params) => instance.post('/login', params)\r\n// 分类\r\nexport const addCategory = (params) => instance.post('/rest/categories', params)\r\n\r\nexport const getCategoryList = () => instance.get('/rest/categories')\r\n\r\nexport const getCategoryById = (params) => instance.get(`/rest/categories/${params}`)\r\n\r\nexport const updateCategoryById = (params, id) => instance.put(`/rest/categories/${id}`, params)\r\n\r\nexport const removeCategoryById = (id) => instance.delete(`/rest/categories/${id}`)\r\n// 物品\r\nexport const addItem = (params) => instance.post('/rest/items', params)\r\n\r\nexport const getItemList = () => instance.get('/rest/items')\r\n\r\nexport const getItemById = (params) => instance.get(`/rest/items/${params}`)\r\n\r\nexport const updateItemById = (params, id) => instance.put(`/rest/items/${id}`, params)\r\n\r\nexport const removeItemById = (id) => instance.delete(`/rest/items/${id}`)\r\n// 英雄\r\nexport const addHero = (params) => instance.post('/rest/heroes', params)\r\n\r\nexport const getHeroList = () => instance.get('/rest/heroes')\r\n\r\nexport const getHeroById = (params) => instance.get(`/rest/heroes/${params}`)\r\n\r\nexport const updateHeroById = (params, id) => instance.put(`/rest/heroes/${id}`, params)\r\n\r\nexport const removeHeroById = (id) => instance.delete(`/rest/heroes/${id}`)\r\n// 文章\r\nexport const addArticle = (params) => instance.post('/rest/articles', params)\r\n\r\nexport const getArticleList = () => instance.get('/rest/articles')\r\n\r\nexport const getArticleById = (params) => instance.get(`/rest/articles/${params}`)\r\n\r\nexport const updateArticleById = (params, id) => instance.put(`/rest/articles/${id}`, params)\r\n\r\nexport const removeArticleById = (id) => instance.delete(`/rest/articles/${id}`)\r\n// 广告\r\nexport const addAd = (params) => instance.post('/rest/ads', params)\r\n\r\nexport const getAdList = () => instance.get('/rest/ads')\r\n\r\nexport const getAdById = (params) => instance.get(`/rest/ads/${params}`)\r\n\r\nexport const updateAdById = (params, id) => instance.put(`/rest/ads/${id}`, params)\r\n\r\nexport const removeAdById = (id) => instance.delete(`/rest/ads/${id}`)\r\n// 管理员用户\r\nexport const addAdminUser = (params) => instance.post('/rest/admin_users', params)\r\n\r\nexport const getAdminUserList = () => instance.get('/rest/admin_users')\r\n\r\nexport const getAdminUserById = (params) => instance.get(`/rest/admin_users/${params}`)\r\n\r\nexport const updateAdminUserById = (params, id) => instance.put(`/rest/admin_users/${id}`, params)\r\n\r\nexport const removeAdminUserById = (id) => instance.delete(`/rest/admin_users/${id}`)\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","id","attrs","nativeOn","$event","preventDefault","save","apply","arguments","model","value","name","callback","$$v","$set","expression","uploadUrl","getAuthHeaders","afterUpload","icon","staticRenderFns","props","data","methods","res","type","message","created","component","uploadFile","params","instance","Login","addCategory","getCategoryList","getCategoryById","updateCategoryById","removeCategoryById","addItem","getItemList","getItemById","updateItemById","removeItemById","addHero","getHeroList","getHeroById","updateHeroById","removeHeroById","addArticle","getArticleList","getArticleById","updateArticleById","removeArticleById","addAd","getAdList","getAdById","updateAdById","removeAdById","addAdminUser","getAdminUserList","getAdminUserById","updateAdminUserById","removeAdminUserById"],"sourceRoot":""}