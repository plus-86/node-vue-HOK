{"version":3,"file":"js/311.7f86f441.js","mappings":"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","sources":["webpack://admin/./src/views/HeroEdit.vue","webpack://admin/src/views/HeroEdit.vue","webpack://admin/./src/views/HeroEdit.vue?1663","webpack://admin/./src/views/HeroEdit.vue?8cdd","webpack://admin/./src/request/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"英雄\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('el-tabs',{attrs:{\"value\":\"basicInfo\",\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"name\":\"basicInfo\",\"label\":\"基础信息\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"称号\"}},[_c('el-input',{model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"头像\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":(res) => _vm.$set(this.model, 'avatar', res.url)}},[(_vm.model.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"海报\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":(res) => _vm.$set(this.model, 'banner', res.url)}},[(_vm.model.banner)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.banner}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.categories),callback:function ($$v) {_vm.$set(_vm.model, \"categories\", $$v)},expression:\"model.categories\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"难度\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.difficult),callback:function ($$v) {_vm.$set(_vm.model.scores, \"difficult\", $$v)},expression:\"model.scores.difficult\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.skills),callback:function ($$v) {_vm.$set(_vm.model.scores, \"skills\", $$v)},expression:\"model.scores.skills\"}})],1),_c('el-form-item',{attrs:{\"label\":\"攻击\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.attack),callback:function ($$v) {_vm.$set(_vm.model.scores, \"attack\", $$v)},expression:\"model.scores.attack\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生存\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.survive),callback:function ($$v) {_vm.$set(_vm.model.scores, \"survive\", $$v)},expression:\"model.scores.survive\"}})],1),_c('el-form-item',{attrs:{\"label\":\"顺风出装\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"multiple\":\"\"},model:{value:(_vm.model.items1),callback:function ($$v) {_vm.$set(_vm.model, \"items1\", $$v)},expression:\"model.items1\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"逆风出装\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"multiple\":\"\"},model:{value:(_vm.model.items2),callback:function ($$v) {_vm.$set(_vm.model, \"items2\", $$v)},expression:\"model.items2\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"使用技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.usageTips),callback:function ($$v) {_vm.$set(_vm.model, \"usageTips\", $$v)},expression:\"model.usageTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"对抗技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.battleTips),callback:function ($$v) {_vm.$set(_vm.model, \"battleTips\", $$v)},expression:\"model.battleTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"团战技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.teamTips),callback:function ($$v) {_vm.$set(_vm.model, \"teamTips\", $$v)},expression:\"model.teamTips\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"技能\",\"name\":\"skills\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.skills.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加技能 \")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.skills),function(item,i){return _c('el-col',{key:i,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":(res) => _vm.$set(item, 'icon', res.url)}},[(item.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"冷却\"}},[_c('el-input',{model:{value:(item.cooldown),callback:function ($$v) {_vm.$set(item, \"cooldown\", $$v)},expression:\"item.cooldown\"}})],1),_c('el-form-item',{attrs:{\"label\":\"消耗\"}},[_c('el-input',{model:{value:(item.consume),callback:function ($$v) {_vm.$set(item, \"consume\", $$v)},expression:\"item.consume\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小提示\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.tips),callback:function ($$v) {_vm.$set(item, \"tips\", $$v)},expression:\"item.tips\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.model.skills.splice(i, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1),_c('el-tab-pane',{attrs:{\"label\":\"最佳搭档\",\"name\":\"partners\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.partners.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加英雄 \")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.partners),function(partner,i){return _c('el-col',{key:i,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"英雄\"}},[_c('el-select',{attrs:{\"filterable\":\"\"},model:{value:(partner.hero),callback:function ($$v) {_vm.$set(partner, \"hero\", $$v)},expression:\"partner.hero\"}},_vm._l((_vm.heroes),function(hero){return _c('el-option',{key:hero._id,attrs:{\"label\":hero.name,\"value\":hero._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(partner.description),callback:function ($$v) {_vm.$set(partner, \"description\", $$v)},expression:\"partner.description\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.model.partners.splice(i, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-top\":\"1rem\"},attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\" 保存 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <h1>{{ id ? '编辑' : '新建' }}英雄</h1>\r\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save\">\r\n      <el-tabs value=\"basicInfo\" type=\"border-card\">\r\n        <el-tab-pane name=\"basicInfo\" label=\"基础信息\">\r\n          <el-form-item label=\"名称\">\r\n            <el-input v-model=\"model.name\"> </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"称号\">\r\n            <el-input v-model=\"model.title\"> </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"头像\">\r\n            <!-- action是发起post请求上传图片信息的地址 -->\r\n            <!-- on-success是图片上传后的回调,第一个参是图片信息 -->\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"uploadUrl\"\r\n              :headers=\"getAuthHeaders()\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"(res) => $set(this.model, 'avatar', res.url)\"\r\n            >\r\n              <img v-if=\"model.avatar\" :src=\"model.avatar\" class=\"avatar\" />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"海报\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"uploadUrl\"\r\n              :headers=\"getAuthHeaders()\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"(res) => $set(this.model, 'banner', res.url)\"\r\n            >\r\n              <img v-if=\"model.banner\" :src=\"model.banner\" class=\"avatar\" />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"类型\">\r\n            <!-- 编辑时用categories内的_id去跟下拉列表做了匹配 -->\r\n            <el-select multiple v-model=\"model.categories\">\r\n              <!-- 获取了分类下拉列表 -->\r\n              <el-option\r\n                v-for=\"item of categories\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n                :key=\"item._id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"难度\">\r\n            <el-rate\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.difficult\"\r\n            >\r\n            </el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"技能\">\r\n            <el-rate\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.skills\"\r\n            >\r\n            </el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"攻击\">\r\n            <el-rate\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.attack\"\r\n            >\r\n            </el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"生存\">\r\n            <el-rate\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"9\"\r\n              show-score\r\n              v-model=\"model.scores.survive\"\r\n            >\r\n            </el-rate>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"顺风出装\">\r\n            <el-select filterable multiple v-model=\"model.items1\">\r\n              <el-option\r\n                v-for=\"item of items\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n                :key=\"item._id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"逆风出装\">\r\n            <el-select filterable multiple v-model=\"model.items2\">\r\n              <el-option\r\n                v-for=\"item of items\"\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n                :key=\"item._id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用技巧\">\r\n            <el-input type=\"textarea\" v-model=\"model.usageTips\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"对抗技巧\">\r\n            <el-input type=\"textarea\" v-model=\"model.battleTips\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"团战技巧\">\r\n            <el-input type=\"textarea\" v-model=\"model.teamTips\"></el-input>\r\n          </el-form-item>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"技能\" name=\"skills\">\r\n          <el-button @click=\"model.skills.push({})\" size=\"small\">\r\n            <i class=\"el-icon-plus\"></i>\r\n            添加技能\r\n          </el-button>\r\n          <el-row type=\"flex\" style=\"flex-wrap: wrap\">\r\n            <el-col :md=\"12\" v-for=\"(item, i) of model.skills\" :key=\"i\">\r\n              <el-form-item label=\"名称\">\r\n                <el-input v-model=\"item.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"图标\">\r\n                <!-- 给model.skills[].icon响应式赋值 -->\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  :action=\"uploadUrl\"\r\n                  :headers=\"getAuthHeaders()\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"(res) => $set(item, 'icon', res.url)\"\r\n                >\r\n                  <img v-if=\"item.icon\" :src=\"item.icon\" class=\"avatar\" />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                </el-upload>\r\n              </el-form-item>\r\n              <el-form-item label=\"冷却\">\r\n                <el-input v-model=\"item.cooldown\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"消耗\">\r\n                <el-input v-model=\"item.consume\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"描述\">\r\n                <el-input type=\"textarea\" v-model=\"item.description\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"小提示\">\r\n                <el-input type=\"textarea\" v-model=\"item.tips\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"danger\"\r\n                  @click=\"model.skills.splice(i, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"最佳搭档\" name=\"partners\">\r\n          <el-button @click=\"model.partners.push({})\" size=\"small\">\r\n            <i class=\"el-icon-plus\"></i>\r\n            添加英雄\r\n          </el-button>\r\n          <el-row type=\"flex\" style=\"flex-wrap: wrap\">\r\n            <el-col :md=\"12\" v-for=\"(partner, i) of model.partners\" :key=\"i\">\r\n              <el-form-item label=\"英雄\">\r\n                <el-select filterable v-model=\"partner.hero\">\r\n                  <el-option\r\n                    v-for=\"hero in heroes\"\r\n                    :label=\"hero.name\"\r\n                    :value=\"hero._id\"\r\n                    :key=\"hero._id\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"描述\">\r\n                <el-input type=\"textarea\" v-model=\"partner.description\">\r\n                </el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item>\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"danger\"\r\n                  @click=\"model.partners.splice(i, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n      <el-form-item>\r\n        <el-button style=\"margin-top: 1rem\" type=\"primary\" native-type=\"submit\">\r\n          保存\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addHero,\r\n  getHeroById,\r\n  updateHeroById,\r\n  getCategoryList,\r\n  getItemList,\r\n  getHeroList\r\n} from '@/request/api.js'\r\nexport default {\r\n  // 获取上个页面放到url上传过来的参数\r\n  props: {\r\n    id: {}\r\n  },\r\n  data() {\r\n    return {\r\n      model: {\r\n        scores: {\r\n          difficult: 0,\r\n          skills: 0,\r\n          attack: 0,\r\n          survive: 0\r\n        },\r\n        skills: [],\r\n        partners: []\r\n      },\r\n      categories: [],\r\n      items: [],\r\n      heroes: []\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let res\r\n      if (this.id) {\r\n        res = await updateHeroById(this.model, this.id)\r\n        // 验证todo\r\n        this.$router.push('/heroes/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '更新成功'\r\n        })\r\n      } else {\r\n        res = await addHero(this.model)\r\n        // 验证todo\r\n        this.$router.push('/heroes/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功'\r\n        })\r\n      }\r\n    },\r\n    async fetch() {\r\n      let res = await getHeroById(this.id)\r\n      // this.model = res.data\r\n      // 防止属性层级过深找不到而报错\r\n      // Object.assign(目标对象,源对象1,源对象2)\r\n      // 逐次合并属性\r\n      // 而不是像this.model = res.data直接替换\r\n      // 这样会找不到层级深的属性\r\n      this.model = Object.assign({}, this.model, res.data)\r\n    },\r\n    async fetchCategories() {\r\n      let res = await getCategoryList()\r\n      this.categories = res.data\r\n    },\r\n    async fetchItems() {\r\n      let res = await getItemList()\r\n      this.items = res.data\r\n    },\r\n    async fetchHeroes() {\r\n      let res = await getHeroList()\r\n      this.heroes = res.data\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchItems()\r\n    this.fetchCategories()\r\n    this.fetchHeroes()\r\n    // 如果有id则去获取物品\r\n    this.id && this.fetch()\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeroEdit.vue?vue&type=template&id=04a807e0&\"\nimport script from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./HeroEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import instance from \"./request\";\r\n// 上传图片\r\nexport const uploadFile = (params) => instance.post('/upload', params)\r\n// 登录\r\nexport const Login = (params) => instance.post('/login', params)\r\n// 分类\r\nexport const addCategory = (params) => instance.post('/rest/categories', params)\r\n\r\nexport const getCategoryList = () => instance.get('/rest/categories')\r\n\r\nexport const getCategoryById = (params) => instance.get(`/rest/categories/${params}`)\r\n\r\nexport const updateCategoryById = (params, id) => instance.put(`/rest/categories/${id}`, params)\r\n\r\nexport const removeCategoryById = (id) => instance.delete(`/rest/categories/${id}`)\r\n// 物品\r\nexport const addItem = (params) => instance.post('/rest/items', params)\r\n\r\nexport const getItemList = () => instance.get('/rest/items')\r\n\r\nexport const getItemById = (params) => instance.get(`/rest/items/${params}`)\r\n\r\nexport const updateItemById = (params, id) => instance.put(`/rest/items/${id}`, params)\r\n\r\nexport const removeItemById = (id) => instance.delete(`/rest/items/${id}`)\r\n// 英雄\r\nexport const addHero = (params) => instance.post('/rest/heroes', params)\r\n\r\nexport const getHeroList = () => instance.get('/rest/heroes')\r\n\r\nexport const getHeroById = (params) => instance.get(`/rest/heroes/${params}`)\r\n\r\nexport const updateHeroById = (params, id) => instance.put(`/rest/heroes/${id}`, params)\r\n\r\nexport const removeHeroById = (id) => instance.delete(`/rest/heroes/${id}`)\r\n// 文章\r\nexport const addArticle = (params) => instance.post('/rest/articles', params)\r\n\r\nexport const getArticleList = () => instance.get('/rest/articles')\r\n\r\nexport const getArticleById = (params) => instance.get(`/rest/articles/${params}`)\r\n\r\nexport const updateArticleById = (params, id) => instance.put(`/rest/articles/${id}`, params)\r\n\r\nexport const removeArticleById = (id) => instance.delete(`/rest/articles/${id}`)\r\n// 广告\r\nexport const addAd = (params) => instance.post('/rest/ads', params)\r\n\r\nexport const getAdList = () => instance.get('/rest/ads')\r\n\r\nexport const getAdById = (params) => instance.get(`/rest/ads/${params}`)\r\n\r\nexport const updateAdById = (params, id) => instance.put(`/rest/ads/${id}`, params)\r\n\r\nexport const removeAdById = (id) => instance.delete(`/rest/ads/${id}`)\r\n// 管理员用户\r\nexport const addAdminUser = (params) => instance.post('/rest/admin_users', params)\r\n\r\nexport const getAdminUserList = () => instance.get('/rest/admin_users')\r\n\r\nexport const getAdminUserById = (params) => instance.get(`/rest/admin_users/${params}`)\r\n\r\nexport const updateAdminUserById = (params, id) => instance.put(`/rest/admin_users/${id}`, params)\r\n\r\nexport const removeAdminUserById = (id) => instance.delete(`/rest/admin_users/${id}`)\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","id","attrs","nativeOn","$event","preventDefault","save","apply","arguments","model","value","name","callback","$$v","$set","expression","title","uploadUrl","getAuthHeaders","res","url","avatar","banner","categories","_l","item","key","_id","staticStyle","scores","difficult","skills","attack","survive","items1","items","items2","usageTips","battleTips","teamTips","on","push","i","icon","cooldown","consume","description","tips","splice","partners","partner","hero","heroes","staticRenderFns","props","data","methods","type","message","created","component","uploadFile","params","instance","Login","addCategory","getCategoryList","getCategoryById","updateCategoryById","removeCategoryById","addItem","getItemList","getItemById","updateItemById","removeItemById","addHero","getHeroList","getHeroById","updateHeroById","removeHeroById","addArticle","getArticleList","getArticleById","updateArticleById","removeArticleById","addAd","getAdList","getAdById","updateAdById","removeAdById","addAdminUser","getAdminUserList","getAdminUserById","updateAdminUserById","removeAdminUserById"],"sourceRoot":""}