{"version":3,"file":"js/974.08ccc64e.js","mappings":"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","sources":["webpack://admin/./src/views/AdEdit.vue","webpack://admin/src/views/AdEdit.vue","webpack://admin/./src/views/AdEdit.vue?4c78","webpack://admin/./src/views/AdEdit.vue?1816","webpack://admin/./src/request/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"广告位\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"广告\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.items.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加广告 \")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.items),function(item,i){return _c('el-col',{key:i,attrs:{\"md\":24}},[_c('el-form-item',{attrs:{\"label\":\"跳转链接（URL）\"}},[_c('el-input',{model:{value:(item.url),callback:function ($$v) {_vm.$set(item, \"url\", $$v)},expression:\"item.url\"}})],1),_c('el-form-item',{staticStyle:{\"margin-top\":\"0.5rem\"},attrs:{\"label\":\"图片\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":(res) => _vm.$set(item, 'image', res.url)}},[(item.image)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.image}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.model.items.splice(i, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\" 保存 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <h1>{{ id ? '编辑' : '新建' }}广告位</h1>\r\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save\">\r\n      <el-form-item label=\"名称\">\r\n        <el-input v-model=\"model.name\"> </el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"广告\">\r\n        <el-button @click=\"model.items.push({})\" size=\"small\">\r\n          <i class=\"el-icon-plus\"></i>\r\n          添加广告\r\n        </el-button>\r\n        <el-row type=\"flex\" style=\"flex-wrap: wrap\">\r\n          <el-col :md=\"24\" v-for=\"(item, i) of model.items\" :key=\"i\">\r\n            <el-form-item label=\"跳转链接（URL）\">\r\n              <el-input v-model=\"item.url\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"图片\" style=\"margin-top: 0.5rem\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"uploadUrl\"\r\n                :headers=\"getAuthHeaders()\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"(res) => $set(item, 'image', res.url)\"\r\n              >\r\n                <img v-if=\"item.image\" :src=\"item.image\" class=\"avatar\" />\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n              </el-upload>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button\r\n                size=\"small\"\r\n                type=\"danger\"\r\n                @click=\"model.items.splice(i, 1)\"\r\n                >删除</el-button\r\n              >\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\"> 保存 </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addAd, getAdById, updateAdById } from '@/request/api.js'\r\nexport default {\r\n  // 获取上个页面放到url上传过来的参数\r\n  props: {\r\n    id: {}\r\n  },\r\n  data() {\r\n    return {\r\n      model: {\r\n        items: []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let res\r\n      if (this.id) {\r\n        res = await updateAdById(this.model, this.id)\r\n        // 验证todo\r\n        this.$router.push('/ads/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '更新成功'\r\n        })\r\n      } else {\r\n        res = await addAd(this.model)\r\n        // 验证todo\r\n        this.$router.push('/ads/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功'\r\n        })\r\n      }\r\n    },\r\n    async fetch() {\r\n      let res = await getAdById(this.id)\r\n      this.model = Object.assign({}, this.model, res.data)\r\n    }\r\n  },\r\n  created() {\r\n    // 如果有id则去获取物品\r\n    this.id && this.fetch()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdEdit.vue?vue&type=template&id=a0ae87f8&\"\nimport script from \"./AdEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./AdEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import instance from \"./request\";\r\n// 上传图片\r\nexport const uploadFile = (params) => instance.post('/upload', params)\r\n// 登录\r\nexport const Login = (params) => instance.post('/login', params)\r\n// 分类\r\nexport const addCategory = (params) => instance.post('/rest/categories', params)\r\n\r\nexport const getCategoryList = () => instance.get('/rest/categories')\r\n\r\nexport const getCategoryById = (params) => instance.get(`/rest/categories/${params}`)\r\n\r\nexport const updateCategoryById = (params, id) => instance.put(`/rest/categories/${id}`, params)\r\n\r\nexport const removeCategoryById = (id) => instance.delete(`/rest/categories/${id}`)\r\n// 物品\r\nexport const addItem = (params) => instance.post('/rest/items', params)\r\n\r\nexport const getItemList = () => instance.get('/rest/items')\r\n\r\nexport const getItemById = (params) => instance.get(`/rest/items/${params}`)\r\n\r\nexport const updateItemById = (params, id) => instance.put(`/rest/items/${id}`, params)\r\n\r\nexport const removeItemById = (id) => instance.delete(`/rest/items/${id}`)\r\n// 英雄\r\nexport const addHero = (params) => instance.post('/rest/heroes', params)\r\n\r\nexport const getHeroList = () => instance.get('/rest/heroes')\r\n\r\nexport const getHeroById = (params) => instance.get(`/rest/heroes/${params}`)\r\n\r\nexport const updateHeroById = (params, id) => instance.put(`/rest/heroes/${id}`, params)\r\n\r\nexport const removeHeroById = (id) => instance.delete(`/rest/heroes/${id}`)\r\n// 文章\r\nexport const addArticle = (params) => instance.post('/rest/articles', params)\r\n\r\nexport const getArticleList = () => instance.get('/rest/articles')\r\n\r\nexport const getArticleById = (params) => instance.get(`/rest/articles/${params}`)\r\n\r\nexport const updateArticleById = (params, id) => instance.put(`/rest/articles/${id}`, params)\r\n\r\nexport const removeArticleById = (id) => instance.delete(`/rest/articles/${id}`)\r\n// 广告\r\nexport const addAd = (params) => instance.post('/rest/ads', params)\r\n\r\nexport const getAdList = () => instance.get('/rest/ads')\r\n\r\nexport const getAdById = (params) => instance.get(`/rest/ads/${params}`)\r\n\r\nexport const updateAdById = (params, id) => instance.put(`/rest/ads/${id}`, params)\r\n\r\nexport const removeAdById = (id) => instance.delete(`/rest/ads/${id}`)\r\n// 管理员用户\r\nexport const addAdminUser = (params) => instance.post('/rest/admin_users', params)\r\n\r\nexport const getAdminUserList = () => instance.get('/rest/admin_users')\r\n\r\nexport const getAdminUserById = (params) => instance.get(`/rest/admin_users/${params}`)\r\n\r\nexport const updateAdminUserById = (params, id) => instance.put(`/rest/admin_users/${id}`, params)\r\n\r\nexport const removeAdminUserById = (id) => instance.delete(`/rest/admin_users/${id}`)\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","id","attrs","nativeOn","$event","preventDefault","save","apply","arguments","model","value","name","callback","$$v","$set","expression","on","items","push","staticStyle","_l","item","i","key","url","uploadUrl","getAuthHeaders","res","image","splice","staticRenderFns","props","data","methods","type","message","created","component","uploadFile","params","instance","Login","addCategory","getCategoryList","getCategoryById","updateCategoryById","removeCategoryById","addItem","getItemList","getItemById","updateItemById","removeItemById","addHero","getHeroList","getHeroById","updateHeroById","removeHeroById","addArticle","getArticleList","getArticleById","updateArticleById","removeArticleById","addAd","getAdList","getAdById","updateAdById","removeAdById","addAdminUser","getAdminUserList","getAdminUserById","updateAdminUserById","removeAdminUserById"],"sourceRoot":""}