{"version":3,"file":"js/133.b86f3d8a.js","mappings":"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","sources":["webpack://admin/./src/views/CategoryEdit.vue","webpack://admin/src/views/CategoryEdit.vue","webpack://admin/./src/views/CategoryEdit.vue?0e75","webpack://admin/./src/views/CategoryEdit.vue?ac38","webpack://admin/./src/request/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"分类\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"上级分类\"}},[_c('el-select',{model:{value:(_vm.model.parent),callback:function ($$v) {_vm.$set(_vm.model, \"parent\", $$v)},expression:\"model.parent\"}},_vm._l((_vm.parents),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\" 保存 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <h1>{{ id ? '编辑' : '新建' }}分类</h1>\r\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save\">\r\n      <el-form-item label=\"上级分类\">\r\n        <el-select v-model=\"model.parent\">\r\n          <el-option\r\n            v-for=\"item in parents\"\r\n            :key=\"item._id\"\r\n            :label=\"item.name\"\r\n            :value=\"item._id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"名称\">\r\n        <el-input v-model=\"model.name\"> </el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\"> 保存 </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addCategory,\r\n  getCategoryById,\r\n  updateCategoryById,\r\n  getCategoryList\r\n} from '@/request/api.js'\r\nexport default {\r\n  // 获取上个页面放到url上传过来的参数\r\n  props: {\r\n    id: {}\r\n  },\r\n  data() {\r\n    return {\r\n      model: {},\r\n      parents: []\r\n    }\r\n  },\r\n  methods: {\r\n    async save() {\r\n      let res\r\n      if (this.id) {\r\n        res = await updateCategoryById(this.model, this.id)\r\n        // 验证todo\r\n        this.$router.push('/categories/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '更新成功'\r\n        })\r\n      } else {\r\n        res = await addCategory(this.model)\r\n        // 验证todo\r\n        this.$router.push('/categories/list')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功'\r\n        })\r\n      }\r\n    },\r\n    async fetch() {\r\n      let res = await getCategoryById(this.id)\r\n      this.model = res.data\r\n    },\r\n    async fetchParents() {\r\n      // 获取上级分类下拉菜单\r\n      let res = await getCategoryList()\r\n      this.parents = res.data\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchParents()\r\n    // 如果有id则去获取分类\r\n    this.id && this.fetch()\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CategoryEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CategoryEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryEdit.vue?vue&type=template&id=b08f5d8c&\"\nimport script from \"./CategoryEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import instance from \"./request\";\r\n// 上传图片\r\nexport const uploadFile = (params) => instance.post('/upload', params)\r\n// 登录\r\nexport const Login = (params) => instance.post('/login', params)\r\n// 分类\r\nexport const addCategory = (params) => instance.post('/rest/categories', params)\r\n\r\nexport const getCategoryList = () => instance.get('/rest/categories')\r\n\r\nexport const getCategoryById = (params) => instance.get(`/rest/categories/${params}`)\r\n\r\nexport const updateCategoryById = (params, id) => instance.put(`/rest/categories/${id}`, params)\r\n\r\nexport const removeCategoryById = (id) => instance.delete(`/rest/categories/${id}`)\r\n// 物品\r\nexport const addItem = (params) => instance.post('/rest/items', params)\r\n\r\nexport const getItemList = () => instance.get('/rest/items')\r\n\r\nexport const getItemById = (params) => instance.get(`/rest/items/${params}`)\r\n\r\nexport const updateItemById = (params, id) => instance.put(`/rest/items/${id}`, params)\r\n\r\nexport const removeItemById = (id) => instance.delete(`/rest/items/${id}`)\r\n// 英雄\r\nexport const addHero = (params) => instance.post('/rest/heroes', params)\r\n\r\nexport const getHeroList = () => instance.get('/rest/heroes')\r\n\r\nexport const getHeroById = (params) => instance.get(`/rest/heroes/${params}`)\r\n\r\nexport const updateHeroById = (params, id) => instance.put(`/rest/heroes/${id}`, params)\r\n\r\nexport const removeHeroById = (id) => instance.delete(`/rest/heroes/${id}`)\r\n// 文章\r\nexport const addArticle = (params) => instance.post('/rest/articles', params)\r\n\r\nexport const getArticleList = () => instance.get('/rest/articles')\r\n\r\nexport const getArticleById = (params) => instance.get(`/rest/articles/${params}`)\r\n\r\nexport const updateArticleById = (params, id) => instance.put(`/rest/articles/${id}`, params)\r\n\r\nexport const removeArticleById = (id) => instance.delete(`/rest/articles/${id}`)\r\n// 广告\r\nexport const addAd = (params) => instance.post('/rest/ads', params)\r\n\r\nexport const getAdList = () => instance.get('/rest/ads')\r\n\r\nexport const getAdById = (params) => instance.get(`/rest/ads/${params}`)\r\n\r\nexport const updateAdById = (params, id) => instance.put(`/rest/ads/${id}`, params)\r\n\r\nexport const removeAdById = (id) => instance.delete(`/rest/ads/${id}`)\r\n// 管理员用户\r\nexport const addAdminUser = (params) => instance.post('/rest/admin_users', params)\r\n\r\nexport const getAdminUserList = () => instance.get('/rest/admin_users')\r\n\r\nexport const getAdminUserById = (params) => instance.get(`/rest/admin_users/${params}`)\r\n\r\nexport const updateAdminUserById = (params, id) => instance.put(`/rest/admin_users/${id}`, params)\r\n\r\nexport const removeAdminUserById = (id) => instance.delete(`/rest/admin_users/${id}`)\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","id","attrs","nativeOn","$event","preventDefault","save","apply","arguments","model","value","parent","callback","$$v","$set","expression","_l","parents","item","key","_id","name","staticRenderFns","props","data","methods","res","type","message","created","component","uploadFile","params","instance","Login","addCategory","getCategoryList","getCategoryById","updateCategoryById","removeCategoryById","addItem","getItemList","getItemById","updateItemById","removeItemById","addHero","getHeroList","getHeroById","updateHeroById","removeHeroById","addArticle","getArticleList","getArticleById","updateArticleById","removeArticleById","addAd","getAdList","getAdById","updateAdById","removeAdById","addAdminUser","getAdminUserList","getAdminUserById","updateAdminUserById","removeAdminUserById"],"sourceRoot":""}