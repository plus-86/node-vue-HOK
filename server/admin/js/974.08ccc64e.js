"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[974],{9974:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});r(7658);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),e("el-form-item",{attrs:{label:"广告"}},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.items.push({})}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 添加广告 ")]),e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,(function(r,s){return e("el-col",{key:s,attrs:{md:24}},[e("el-form-item",{attrs:{label:"跳转链接（URL）"}},[e("el-input",{model:{value:r.url,callback:function(e){t.$set(r,"url",e)},expression:"item.url"}})],1),e("el-form-item",{staticStyle:{"margin-top":"0.5rem"},attrs:{label:"图片"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":e=>t.$set(r,"image",e.url)}},[r.image?e("img",{staticClass:"avatar",attrs:{src:r.image}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.items.splice(s,1)}}},[t._v("删除")])],1)],1)})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v(" 保存 ")])],1)],1)],1)},n=[],i=r(9328),u={props:{id:{}},data(){return{model:{items:[]}}},methods:{async save(){let t;this.id?(t=await(0,i.hc)(this.model,this.id),this.$router.push("/ads/list"),this.$message({type:"success",message:"更新成功"})):(t=await(0,i.pF)(this.model),this.$router.push("/ads/list"),this.$message({type:"success",message:"保存成功"}))},async fetch(){let t=await(0,i.Af)(this.id);this.model=Object.assign({},this.model,t.data)}},created(){this.id&&this.fetch()}},a=u,o=r(1001),l=(0,o.Z)(a,s,n,!1,null,null,null),c=l.exports},9328:function(t,e,r){r.d(e,{$c:function(){return g},AT:function(){return a},Af:function(){return z},Ai:function(){return C},DA:function(){return _},HK:function(){return l},K8:function(){return K},Ns:function(){return b},PF:function(){return d},Qo:function(){return h},Vr:function(){return k},Vz:function(){return c},Xd:function(){return w},Xt:function(){return D},a4:function(){return H},ax:function(){return o},bX:function(){return v},cT:function(){return n},gM:function(){return Z},hc:function(){return X},i8:function(){return u},iH:function(){return $},jX:function(){return m},kB:function(){return j},ks:function(){return p},m3:function(){return i},mC:function(){return f},mr:function(){return A},oC:function(){return F},pF:function(){return x},qM:function(){return y},z8:function(){return M}});var s=r(9613);const n=t=>s.Z.post("/upload",t),i=t=>s.Z.post("/login",t),u=t=>s.Z.post("/rest/categories",t),a=()=>s.Z.get("/rest/categories"),o=t=>s.Z.get(`/rest/categories/${t}`),l=(t,e)=>s.Z.put(`/rest/categories/${e}`,t),c=t=>s.Z["delete"](`/rest/categories/${t}`),m=t=>s.Z.post("/rest/items",t),f=()=>s.Z.get("/rest/items"),d=t=>s.Z.get(`/rest/items/${t}`),p=(t,e)=>s.Z.put(`/rest/items/${e}`,t),h=t=>s.Z["delete"](`/rest/items/${t}`),Z=t=>s.Z.post("/rest/heroes",t),g=()=>s.Z.get("/rest/heroes"),$=t=>s.Z.get(`/rest/heroes/${t}`),v=(t,e)=>s.Z.put(`/rest/heroes/${e}`,t),b=t=>s.Z["delete"](`/rest/heroes/${t}`),y=t=>s.Z.post("/rest/articles",t),_=()=>s.Z.get("/rest/articles"),k=t=>s.Z.get(`/rest/articles/${t}`),w=(t,e)=>s.Z.put(`/rest/articles/${e}`,t),C=t=>s.Z["delete"](`/rest/articles/${t}`),x=t=>s.Z.post("/rest/ads",t),A=()=>s.Z.get("/rest/ads"),z=t=>s.Z.get(`/rest/ads/${t}`),X=(t,e)=>s.Z.put(`/rest/ads/${e}`,t),F=t=>s.Z["delete"](`/rest/ads/${t}`),H=t=>s.Z.post("/rest/admin_users",t),j=()=>s.Z.get("/rest/admin_users"),D=t=>s.Z.get(`/rest/admin_users/${t}`),K=(t,e)=>s.Z.put(`/rest/admin_users/${e}`,t),M=t=>s.Z["delete"](`/rest/admin_users/${t}`)}}]);
//# sourceMappingURL=974.08ccc64e.js.map